name: Python CI (Windows)

on: [push, pull_request]

jobs:
  test:
    runs-on: windows-latest  # Windows runner (instead of ubuntu-latest)
    
    steps:
      # 1. Checkout code
      - uses: actions/checkout@v4

      # 2. Set up Python (Windows-compatible)
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: "3.10"  # Specify your version

      # 3. Install dependencies (Windows-style paths)
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt
          pip install pytest

      # 4. Run tests (adjust paths for Windows if needed)
      - name: Run tests
        run: |
          python -m pytest tests\ -v  # Use backslash for Windows paths